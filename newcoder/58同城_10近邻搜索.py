import numpy as np


def cosine_similarity(x, y):
    x,y = np.array(x), np.array(y)
    assert len(x) == len(y), "len(x) != len(y)"
    if (x == 0).all()  or (x == 0).all():
        return float(1) if x == y else float(0)
    cos = np.dot(x, y) / (np.sqrt(sum(x*x)) * np.sqrt(sum(y*y)))


    return 0.5* (1-cos)
users, items = [], []
n = int(input())


answer = '''u5:i16,i14,i3,i9,i15,i5,i18,i0,i13,i19
u6:i17,i10,i15,i19,i5,i8,i3,i7,i13,i12
u7:i15,i12,i19,i13,i8,i14,i3,i10,i1,i16
u8:i8,i14,i15,i7,i3,i16,i12,i19,i18,i2
u9:i9,i14,i15,i19,i13,i0,i5,i16,i17,i4
u11:i14,i12,i0,i15,i19,i6,i8,i18,i16,i5
u10:i17,i15,i5,i4,i19,i14,i13,i9,i3,i10
u13:i14,i5,i2,i19,i15,i4,i16,i12,i0,i8
u12:i10,i3,i12,i15,i7,i19,i6,i17,i11,i14
u15:i1,i4,i2,i13,i19,i10,i5,i3,i8,i15
u14:i19,i12,i1,i15,i10,i13,i3,i14,i5,i8
u17:i2,i18,i16,i5,i1,i11,i7,i14,i4,i8
u0:i3,i16,i14,i18,i7,i8,i15,i12,i10,i19
u16:i12,i6,i10,i14,i5,i19,i3,i11,i1,i17
u1:i13,i19,i9,i15,i14,i3,i1,i10,i12,i5
u19:i18,i14,i6,i8,i0,i16,i12,i7,i3,i11
u2:i9,i13,i1,i15,i19,i12,i3,i14,i17,i0
u18:i13,i9,i1,i19,i12,i8,i3,i15,i10,i14
u3:i15,i10,i19,i8,i12,i3,i4,i14,i2,i13
u4:i15,i4,i19,i2,i8,i14,i13,i3,i16,i5'''


answer = {i.split(':')[0]:i.split(':')[1] for i in answer.split('\n')  }

for i in range(n):
    s = input()
    if s[0]=='u':
        s = s.split('#')[1]
        users.append([float(i) for i in s.split(',')])

    else:
        s = s.split('#')[1]
        items.append([float(i) for i in s.split(',')])

for i in range(len(users)):

    similarity = []
    for j in items:
        similarity.append(cosine_similarity(users[i], j))
    similarity = np.argpartition(similarity, 10)[:10]
    print('u%d:'%i, end='')
    print(','.join(map(lambda x:'i%d'%x, similarity)))
    print('u%d'%i, answer['u%d'%i])



'''
40
u0#0.2179,0.2406,0.6971,0.3083,0.1514,0.3472,0.0427,0.8439,0.5594,-0.4521
u1#0.5401,0.4934,-0.5958,0.8208,-0.8748,0.0657,0.6672,0.0086,0.5781,0.1663
u2#0.0414,0.8239,-0.8297,0.2156,-0.9921,-0.5142,-0.0956,0.2475,0.5707,0.4694
u3#0.8019,0.3216,0.3552,0.1918,-0.5707,0.9322,0.332,-0.8832,-0.0471,0.252
u4#0.7059,0.7112,-0.064,0.466,0.5382,0.3151,0.0889,-0.844,0.3839,0.398
u5#0.3898,0.712,0.0877,0.4642,0.7407,-0.1878,0.0545,0.798,0.9249,-0.6213
u6#0.3661,-0.2301,0.2296,-0.5753,0.0307,0.0703,0.0349,0.0057,0.2594,0.732
u7#0.6073,0.8368,0.4376,0.5837,-0.5863,0.335,0.0562,0.2514,0.3447,0.7445
u8#0.4525,0.3511,0.3907,-0.0501,0.3266,0.1956,-0.2023,0.279,0.18,0.1995
u9#0.4497,0.5915,-0.992,0.8815,0.3974,0.1577,0.1218,0.3557,0.5698,0.3073
u10#0.7336,-0.3082,-0.8885,-0.3395,0.7812,0.4299,0.0586,-0.204,0.8898,0.975
u11#0.3156,0.7646,-0.1411,0.7725,-0.1332,0.9899,0.9968,0.6316,-0.6453,0.4403
u12#0.1212,-0.4439,0.4339,-0.1407,-0.4604,0.9138,-0.3888,0.2748,0.4432,0.2012
u13#-0.426,0.635,0.3957,0.9904,0.8195,0.9888,0.3692,0.2228,0.0063,0.9362
u14#-0.2319,0.6972,0.3103,0.9745,-0.9859,0.7146,0.1188,0.2962,0.598,0.963
u15#-0.5045,-0.1485,0.4641,0.3686,0.0978,-0.6426,0.0027,-0.9536,0.5684,0.0967
u16#0.1512,-0.7064,0.3423,-0.0172,-0.7286,0.4758,0.4304,0.8359,-0.5967,0.9906
u17#-0.9131,0.1511,0.8948,0.3507,0.8417,0.5582,0.219,-0.0674,0.0833,-0.2371
u18#0.495,0.657,-0.0148,0.2712,-0.8259,-0.6166,0.131,0.1651,0.2556,0.2739
u19#0.6857,0.097,0.6,0.0717,0.4928,0.5777,0.4095,0.6805,-0.7559,-0.5172
i0#0.0051,0.9064,-0.659,0.7935,0.5866,0.4142,0.0092,0.5199,-0.8319,-0.6927
i1#-0.8793,0.4314,0.9305,0.8952,-0.7459,-0.5791,0.6604,0.3251,0.8811,0.2508
i2#-0.1491,0.6112,0.9021,0.9055,0.9682,0.1632,-0.5503,-0.8618,-0.7019,0.3692
i3#0.6059,0.0782,0.6228,0.323,-0.2167,0.2546,0.0768,0.3809,0.8145,-0.0467
i4#0.3834,-0.3896,0.0789,0.9742,0.7588,0.1634,-0.3229,-0.8885,0.0906,0.4803
i5#-0.2875,-0.2038,0.1023,0.5519,0.824,0.1528,0.7386,0.6249,0.9084,0.7559
i6#0.0147,-0.5534,0.5928,0.3364,-0.9834,0.3446,0.8096,0.9258,-0.7374,-0.5645
i7#0.0688,0.8641,0.7022,-0.9693,0.1685,0.4827,-0.5128,0.5521,0.1256,-0.3784
i8#0.6705,0.7874,0.9572,0.0327,0.0805,0.0908,0.1278,0.0255,2.0E-4,0.1434
i9#0.5915,0.2826,-0.6599,0.47,-0.2,-0.8447,0.2625,0.503,0.3964,-0.1247
i10#0.6836,-0.5663,0.8528,0.5678,-0.677,0.5358,0.0482,-0.0223,0.7083,0.3369
i11#-0.5846,-0.8375,0.1363,0.2198,0.123,0.0571,-0.3677,0.846,-0.076,-0.7814
i12#0.8165,0.4278,0.9763,0.9972,-0.9419,0.8282,-0.1808,0.9779,-0.6156,0.6753
i13#0.7575,0.7081,0.1125,0.9655,-0.5836,-0.9705,0.6704,0.1157,0.9566,0.7233
i14#0.9237,0.7026,0.3614,0.9792,0.5561,0.6577,0.638,0.887,0.3664,0.2936
i15#0.9506,0.6158,0.1821,0.4483,0.0834,0.638,0.3041,0.0223,0.9073,0.4854
i16#0.154,0.8071,0.4306,0.9557,0.6328,0.1705,-0.3279,0.6525,0.1804,-0.7492
i17#0.7906,-0.6216,-0.6186,-0.5469,0.4784,0.1658,0.219,0.364,0.9972,0.221
i18#0.3343,0.1041,0.731,0.1917,0.7875,0.0833,0.3725,0.509,-0.5513,-0.6654
i19#0.7897,0.2611,0.4093,0.9225,-0.0664,0.4228,0.5879,-0.0769,0.9653,0.6671
'''



